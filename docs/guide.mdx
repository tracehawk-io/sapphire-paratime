---
description: Guide to creating secure dApps on Sapphire
---

import DocCard from '@theme/DocCard';
import {findSidebarItem} from '@site/src/sidebarUtils';

# Guide

This page mainly describes the differences between Sapphire and Ethereum
since there are a number of excellent tutorials on developing for Ethereum.
If you don't know where to begin, the [Hardhat tutorial], [Solidity docs], and
[Emerald dApp tutorial] are great places to start. You can continue following
this guide once you've set up your development environment and have deployed
your contract to a non-confidential EVM network (e.g., Ropsten, Emerald).


[Hardhat tutorial]: https://hardhat.org/tutorial
[Solidity docs]: https://docs.soliditylang.org/en/v0.8.15/solidity-by-example.html
[Emerald dApp tutorial]: https://github.com/oasisprotocol/docs/blob/main/docs/dapp/emerald/writing-dapps-on-emerald.mdx

## Oasis Consensus Layer and Sapphire ParaTime

The Oasis Network consists of the consensus layer and a number of ParaTimes.
ParaTimes are independent replicated state machines that settle transactions
using the consensus layer (to learn more, check the [Oasis Network
Overview][overview chapter]). Sapphire is a ParaTime which implements the
Ethereum Virtual Machine (EVM).

The minimum and also expected block time in Sapphire is **6 seconds**. Any
Sapphire transaction will require at least this amount of time to be executed,
and probably no more.

ParaTimes, Sapphire included, are not allowed to directly access your tokens
stored in consensus layer accounts. You will need to _deposit_ tokens from your
consensus account to Sapphire. Consult the [Manage your
Tokens][how-to-deposit-rose] chapter to learn more.


[overview chapter]: https://github.com/oasisprotocol/docs/blob/main/docs/general/oasis-network/README.mdx
[how-to-deposit-rose]: https://github.com/oasisprotocol/docs/blob/main/docs/general/manage-tokens/README.mdx#rose-and-the-paratimes
[Testnet faucet]: https://faucet.testnet.oasis.io/

## Testnet and Mainnet

Sapphire is deployed on Testnet and Mainnet chains. Testnet should be
considered unstable software and may also have its state wiped at any time. As
the name implies, only use Testnet for testing unless you're testing how
angry your users get when state is wiped.

:::danger Never deploy production services on Testnet

Because Testnet state can be wiped in the future, you should **never** deploy a
production service on Testnet! Just don't do it!

Also note that while Testnet does use proper TEEs, due to experimental
software and different security parameters, **confidentiality of Sapphire on
Testnet is not guaranteed** -- all transactions and state published on the
Sapphire Testnet should be considered public.

:::

:::tip

For testing purposes, visit our [Testnet faucet] to obtain some TEST which you
can then use on the Sapphire Testnet to pay for gas fees. The faucet supports
sending TEST both to your consensus layer address or to your address inside the
ParaTime.

:::

[network-parameters]: https://github.com/oasisprotocol/docs/blob/main/docs/node/mainnet/README.md
[Testnet]: https://github.com/oasisprotocol/docs/blob/main/docs/node/testnet/README.md

## Localnet

For development and testing, you can run a local [instance][localnet] of the
entire Sapphire stack.

[localnet]: https://github.com/oasisprotocol/docs/blob/main/docs/dapp/tools/localnet.mdx

## Integrating Sapphire

Once ROSE tokens are [deposited into Sapphire][how-to-deposit-rose], it should
be painless for users to begin using dApps. To achieve this ideal user
experience, we have to modify the dApp a little, but it's made simple by our
compatibility library, [@oasisprotocol/sapphire-paratime].

There are compatibility layers in other languages, which may be found in [the repo].

[@oasisprotocol/sapphire-paratime]: https://www.npmjs.com/package/@oasisprotocol/sapphire-paratime
[the repo]: https://github.com/oasisprotocol/sapphire-paratime/tree/main/clients

## Writing Secure dApps

### Wallets

Sapphire is compatible with popular self-custodial wallets including MetaMask,
Ledger, Brave, and so forth. You can also use libraries like Ethers, Viem, and Wagmi
to create programmatic wallets. In general, if it generates secp256k1 signatures,
it'll work just fine.

## See also

<DocCard item={findSidebarItem('/node/run-your-node/paratime-client-node')} />
<DocCard item={findSidebarItem('/node/web3')} />
